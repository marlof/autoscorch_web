<!DOCTYPE html>
<html lang="en" dir="ltr"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:dc="http://purl.org/dc/terms/"
  xmlns:foaf="http://xmlns.com/foaf/0.1/"
  xmlns:og="http://ogp.me/ns#"
  xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
  xmlns:sioc="http://rdfs.org/sioc/ns#"
  xmlns:sioct="http://rdfs.org/sioc/types#"
  xmlns:skos="http://www.w3.org/2004/02/skos/core#"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema#">
<head>
<meta charset="utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../making-tea.html" />
<link rel="shortlink" href="16.html" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<link rel="shortcut icon" href="../sites/all/themes/responsive_blog/favicon.ico" type="image/vnd.microsoft.icon" />
<title>Example - Making Tea | ScOrch</title>
<style type="text/css" media="all">
@import url("../modules/system/system.base.css%3Fqgglep.css");
@import url("../modules/system/system.menus.css%3Fqgglep.css");
@import url("../modules/system/system.messages.css%3Fqgglep.css");
@import url("../modules/system/system.theme.css%3Fqgglep.css");
</style>
<style type="text/css" media="all">
@import url("../modules/field/theme/field.css%3Fqgglep.css");
@import url("../modules/node/node.css%3Fqgglep.css");
@import url("../modules/search/search.css%3Fqgglep.css");
@import url("../modules/user/user.css%3Fqgglep.css");
</style>
<style type="text/css" media="all">
@import url("../sites/all/themes/responsive_blog/css/color-schemes.css%3Fqgglep.css");
</style>
<style type="text/css" media="all">
@import url("../sites/all/themes/responsive_blog/style.css%3Fqgglep.css");
</style>
<script type="text/javascript" src="../misc/jquery.js%3Fv=1.4.4"></script>
<script type="text/javascript" src="../misc/jquery-extend-3.4.0.js%3Fv=1.4.4"></script>
<script type="text/javascript" src="../misc/jquery-html-prefilter-3.5.0-backport.js%3Fv=1.4.4"></script>
<script type="text/javascript" src="../misc/jquery.once.js%3Fv=1.2"></script>
<script type="text/javascript" src="../misc/drupal.js%3Fqgglep"></script>
<script type="text/javascript" src="../sites/all/themes/responsive_blog/js/main-menu.js%3Fqgglep"></script>
<script type="text/javascript" src="../sites/all/themes/responsive_blog/js/pngfix.min.js%3Fqgglep"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"responsive_blog","theme_token":"UBtxcy4vb8iaLImmdmxwnGemvwPL7NkxZESIfNXPw-I","js":{"modules\/statistics\/statistics.js":1,"misc\/jquery.js":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery-html-prefilter-3.5.0-backport.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/themes\/responsive_blog\/js\/main-menu.js":1,"sites\/all\/themes\/responsive_blog\/js\/pngfix.min.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/themes\/responsive_blog\/css\/color-schemes.css":1,"sites\/all\/themes\/responsive_blog\/css\/dark.css":1,"sites\/all\/themes\/responsive_blog\/style.css":1}},"statistics":{"data":{"nid":"16"},"url":"\/modules\/statistics\/statistics.php"}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="/sites/all/themes/responsive_blog/js/html5.js"></script><![endif]-->
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-first page-node page-node- page-node-16 node-type-page dark">
    <div id="wrapper">
  <header id="header" class="clearfix">
                                <div class="social-profile">
        <ul>
                    <li class="twitter">
            <a target="_blank" title="ScOrch in Twitter" href="https://twitter.com/webmarcitltd">ScOrch Twitter </a>
          </li>                              <li class="rss">
            <a target="_blank" title="ScOrch in RSS" href="../rss.xml">ScOrch RSS </a>
          </li>
        </ul>
      </div>
        <nav id="navigation" role="navigation">
      <div id="main-menu">
        <ul class="menu"><li class="first leaf"><a href="../index.html">Home</a></li>
<li class="expanded active-trail"><a href="../scorch.html" title="ScOrch - Orchestration" class="active-trail">Orchestration</a><ul class="menu"><li class="first leaf"><a href="../creating-plugins.html">Creating Plugins</a></li>
<li class="leaf active-trail"><a href="../making-tea.html" title="Use ScOrch to produce dynamic manual instructions" class="active-trail active">Example - Making Tea</a></li>
<li class="last leaf"><a href="../return-completed.html" title="Retrieve Completed Jobs - an example how to return expired jobs">Return Jobs to Completed State</a></li>
</ul></li>
<li class="collapsed"><a href="../scorchdb.html" title="CMDB - Single Source of Truth">CMDB</a></li>
<li class="collapsed"><a href="../obrar.html" title="Obrar - The Work Horse">Framework</a></li>
<li class="collapsed"><a href="../community.html">Community</a></li>
<li class="leaf"><a href="../download.html">Download</a></li>
<li class="last collapsed"><a href="../documentation.html" title="ScOrch Documentation">Documentation</a></li>
</ul>      </div>
    </nav>
  </header>

  <div id="preface-area" class="clearfix">
    
      </div>

  <div id="main" class="clearfix">
    <div id="primary">
      <section id="content" role="main">
        
        <div id="breadcrumbs"><h2 class="element-invisible">You are here</h2><nav class="breadcrumb"><a href="../index.html">Home</a> » <a href="../scorch.html" title="ScOrch - Orchestration" class="active-trail">Orchestration</a> » Example - Making Tea</nav></div>                        <div id="content-wrap">
                    <h1 class="page-title">Example - Making Tea</h1>                                                  <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                        <span property="dc:title" content="Example - Making Tea" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content">
    <div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>ScOrch can not only be used to orchestrate commands and other scripts, but can also be used to provide dynamic instructions. In this example the perfect cup of tea can be a configuration template away.</p>
<pre class="rteindent1">
SP_DRINK-TEA()
{
  # Use 'GetVar' to pass your own key pair values to the plugin
  # ===========================================================
  GetVar -pattern "Sugar" -name "SUGAR" -default 0
  [ ${SUGAR} -gt 1 ] &amp;&amp; str_Plural="s" || str_Plural=""
  GetVar -pattern "Milk"  -name "MILK"  -default 1
  GetVar -pattern "Strength" -name STRENGTH -default "medium"
  GetVar -pattern "Size"  -name "SIZE"  -default "Cup"

  case $STRENGTH in
    weak   ) int_Strength=3 ;;
    medium ) int_Strength=4 ;;
    strong ) int_Strength=5 ;;
  esac

  # Use 'Task' to run a command
  # ===========================
  str_LowerSize=$(echo ${SIZE} | tr [:upper:] [:lower:])
  Task "echo Before filling the kettle, run the water for a few minutes so it is nicely aerated"
  Task "echo Boil a kettle of water and while you wait for it to boil get a ${str_LowerSize}"
  Task "echo Pour the water directly onto the tea bag in the ${str_LowerSize}"
  Task "echo Leave to brew for ${int_Strength} minutes"
  [ ${MILK} -eq 1 ]  &amp;&amp; Task "echo Add whole or semi skimmed milk"
  [ ${SUGAR} -ge 1 ] &amp;&amp; Task "echo Add $SUGAR teaspoon${str_Plural} of sugar"
  Task "echo Now sit back and enjoy, rating the tea for taste"
}</pre><p> </p>
<p>This plugin can be triggered and controlled via the following template with the defaults shown in brackets</p>
<pre class="rteindent1">
Action      : TEA
Sugar       : [NONE],n (number of sugars)
Milk        : [TRUE],FALSE
Strength    : weak, [medium], strong
Size        : [cup], mug</pre><p>By accepting the defaults the template can simply be summarised as</p>
<pre class="rteindent1">
Action      : TEA
</pre><p>Where you would receive a cup of white tea no sugar.</p>
<p>The instructions generated will be a combination of:</p>
<pre class="rteindent1">
​# 1 Before filling the kettle, run the water for a few seconds so it it nicely aerated
# 2 Boil the kettle
# 3 Select a mug or a cup
# 4 Pour the water directly onto the tea bag in the cup/mug
# 5 Leave to brew for a few minutes depending on taste [3/weak, 4/medium, 5/strong]
# 6 Remove tea bag with a spoon giving just one gentle squeeze
# 7 Add [whole/semi skimmed] milk to taste
# 8 Add sugar to taste</pre></div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
        </div>
      </section> <!-- /#main -->
    </div>

          <aside id="sidebar" role="complementary">
       <div class="region region-sidebar-first">
  <div id="block-system-main-menu" class="block block-system block-menu">

        <h2 >Main menu</h2>
    
  <div class="content">
    <ul class="menu"><li class="first leaf"><a href="../index.html">Home</a></li>
<li class="expanded active-trail"><a href="../scorch.html" title="ScOrch - Orchestration" class="active-trail">Orchestration</a><ul class="menu"><li class="first leaf"><a href="../creating-plugins.html">Creating Plugins</a></li>
<li class="leaf active-trail"><a href="../making-tea.html" title="Use ScOrch to produce dynamic manual instructions" class="active-trail active">Example - Making Tea</a></li>
<li class="last leaf"><a href="../return-completed.html" title="Retrieve Completed Jobs - an example how to return expired jobs">Return Jobs to Completed State</a></li>
</ul></li>
<li class="collapsed"><a href="../scorchdb.html" title="CMDB - Single Source of Truth">CMDB</a></li>
<li class="collapsed"><a href="../obrar.html" title="Obrar - The Work Horse">Framework</a></li>
<li class="collapsed"><a href="../community.html">Community</a></li>
<li class="leaf"><a href="../download.html">Download</a></li>
<li class="last collapsed"><a href="../documentation.html" title="ScOrch Documentation">Documentation</a></li>
</ul>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </aside> 
      </div>

  <footer id="footer-bottom">
    <div id="footer-area" class="clearfix">
            
          </div>

    <div id="bottom" class="clearfix">
      <div class="copyright">Copyright &copy; 2020, <a href="../index.html">ScOrch</a></div>
      <div class="credit">Theme by  <a href="http://www.devsaran.com" target="_blank">Devsaran</a></div>
    </div>
  </footer>

</div>






  <script type="text/javascript" src="../modules/statistics/statistics.js%3Fqgglep"></script>
</body>
</html>